!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}([function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";var r=n(2),a=Object.prototype.toString;function s(e){return"[object Array]"===a.call(e)}function i(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===a.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:c,isUndefined:i,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:l,isStream:function(e){return o(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):s(n)?t[r]=n.slice():t[r]=n}for(var r=0,a=arguments.length;r<a;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,a){e[a]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(1);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(r.isURLSearchParams(t))s=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))})))})),s=i.join("&")}if(s){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(1),a=n(16),s={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(o=n(6)),o),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(s)})),e.exports=c}).call(this,n(15))},function(e,t,n){"use strict";var r=n(1),a=n(17),s=n(19),i=n(3),o=n(20),c=n(23),l=n(24),u=n(7);e.exports=function(e){return new Promise((function(t,n){var d=e.data,f=e.headers;r.isFormData(d)&&delete f["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(m+":"+p)}var h=o(e.baseURL,e.url);if(g.open(e.method.toUpperCase(),i(h,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,g.onreadystatechange=function(){if(g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,s={data:e.responseType&&"text"!==e.responseType?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};a(t,n,s),g=null}},g.onabort=function(){g&&(n(u("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(u("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var v=(e.withCredentials||l(h))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}if("setRequestHeader"in g&&r.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),e.responseType)try{g.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){g&&(g.abort(),n(e),g=null)})),d||(d=null),g.send(d)}))}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t,n,a,s){var i=new Error(e);return r(i,t,n,a,s)}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){t=t||{};var n={},a=["url","method","data"],s=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function l(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=c(void 0,e[a])):n[a]=c(e[a],t[a])}r.forEach(a,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(s,l),r.forEach(i,(function(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=c(void 0,e[a])):n[a]=c(void 0,t[a])})),r.forEach(o,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var u=a.concat(s).concat(i).concat(o),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return r.forEach(d,l),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var r=n(1),a=n(2),s=n(11),i=n(8);function o(e){var t=new s(e),n=a(s.prototype.request,t);return r.extend(n,s.prototype,t),r.extend(n,t),n}var c=o(n(5));c.Axios=s,c.create=function(e){return o(i(c.defaults,e))},c.Cancel=n(9),c.CancelToken=n(25),c.isCancel=n(4),c.all=function(e){return Promise.all(e)},c.spread=n(26),c.isAxiosError=n(27),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(1),a=n(3),s=n(12),i=n(13),o=n(8);function c(e){this.defaults=e,this.interceptors={request:new s,response:new s}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[i,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=o(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(o(r||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var r=n(1);function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},function(e,t,n){"use strict";var r=n(1),a=n(14),s=n(4),i=n(5);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return o(e),t.data=a(t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(o(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,r,a=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&g())}function g(){if(!u){var e=o(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||u||o(g)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,s,i){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),r.isString(a)&&o.push("path="+a),r.isString(s)&&o.push("domain="+s),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(21),a=n(22);e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(1),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,i={};return e?(r.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),n=r.trim(e.substr(s+1)),t){if(i[t]&&a.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(9);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t,n){"use strict";n.r(t);const r=()=>{document.querySelector(".home-page")||s.contentContainer.insertAdjacentHTML("afterbegin",'<div class="home-page"></div>')},a=()=>{s.contentContainer.innerHTML=""},s={navbarContainer:document.querySelector(".navbar"),contentContainer:document.querySelector(".content-container")},i=()=>{return{title:document.querySelector('[placeholder="Article Title"]').value,description:document.querySelector('[placeholder="What\'s this article about?"]').value,body:document.querySelector('[placeholder="Write your article"]').value,tagList:(e=document.querySelector('[placeholder="Enter tags"]').value,console.log(e.split(" ")),e.split(" "))};var e},o=()=>({image:document.querySelector('[placeholder="URL of profile picture"]').value,username:document.querySelector('[placeholder="Your Name"]').value,bio:document.querySelector('[placeholder="Short bio about you"]').value,email:document.querySelector('[placeholder="Email"]').value,password:document.querySelector('[placeholder="Password"]').value}),c=()=>{document.querySelector(".error-messages").innerHTML=""},l=e=>{c();for(const t in e)e[t].forEach(e=>{const n=`<li>${t} ${e}</li>`;document.querySelector(".error-messages").insertAdjacentHTML("beforeend",n)})},u=()=>{a();s.contentContainer.insertAdjacentHTML("afterbegin",'<h3 class="text-center">Loading ...</h3>')},d=()=>{s.contentContainer.insertAdjacentHTML("afterbegin",'\n  <div class="auth-page">\n    <div class="container page">\n      <div class="row">\n\n        <div class="col-md-6 offset-md-3 col-xs-12">\n          <h1 class="text-xs-center">Sign in</h1>\n          <p class="text-xs-center">\n            <a href="#">Need an accountt?</a>\n          </p>\n\n          <ul class="error-messages">\n            \x3c!-- <li>That email is already taken</li> --\x3e\n          </ul>\n\n          <form>\n            <fieldset class="form-group">\n              <input class="form-control form-control-lg" type="text" placeholder="Email">\n            </fieldset>\n            <fieldset class="form-group">\n              <input class="form-control form-control-lg" type="password" placeholder="Password">\n            </fieldset>\n            <button class="btn btn-lg btn-primary pull-xs-right" id="SignInButton">\n              Sign in\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n')},f=()=>{s.contentContainer.insertAdjacentHTML("afterbegin",'\n  <div class="auth-page">\n    <div class="container page">\n      <div class="row">\n\n        <div class="col-md-6 offset-md-3 col-xs-12">\n          <h1 class="text-xs-center">Sign in</h1>\n          <p class="text-xs-center">\n            <a href="#">Have an accountt?</a>\n          </p>\n\n          <ul class="error-messages">\n            \x3c!-- <li>That email is already taken</li> --\x3e\n          </ul>\n\n          <form>\n            <fieldset class="form-group">\n              <input class="form-control form-control-lg" type="text" placeholder="Username">\n            </fieldset>\n            <fieldset class="form-group">\n              <input class="form-control form-control-lg" type="text" placeholder="Email">\n            </fieldset>\n            <fieldset class="form-group">\n              <input class="form-control form-control-lg" type="password" placeholder="Password">\n            </fieldset>\n            <button class="btn btn-lg btn-primary pull-xs-right" id="SignUpButton">\n              Sign up\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n')},g=()=>({email:document.querySelector('[placeholder="Email"]').value,password:document.querySelector('[placeholder="Password"]').value}),m=()=>({username:document.querySelector('[placeholder="Username"]').value,email:document.querySelector('[placeholder="Email"]').value,password:document.querySelector('[placeholder="Password"]').value}),p=new Map([["Home","HomeLink"],["New Article","NewArticleLink"],["Setting","SettingLink"],["User","UsernameLink"],["Sign In","SignInLink"],["Sign Up","SignUpLink"]]),h=(e,t="")=>{Array.from(document.querySelectorAll(".navbar-nav .nav-link")).forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),t&&document.querySelector(`#${p.get(t)} a`)&&document.querySelector(`#${p.get(t)} a`).classList.add("active")},v=()=>{s.navbarContainer.innerHTML=""},b=(e,t="Home")=>{v();const n=`\n    <div class="container">\n      <a class="navbar-brand" href="index.html">conduit</a>\n      <ul class="nav navbar-nav pull-xs-right">\n        <li class="nav-item" id="HomeLink">\n          \x3c!-- Add "active" class when you're on that page" --\x3e\n          <a class="nav-link" href="javascript:void(0)">Home</a>\n        </li>\n        <li class="nav-item" id="NewArticleLink">\n          <a class="nav-link" href="javascript:void(0)">\n            <i class="ion-compose"></i>&nbsp;New Article\n          </a>\n        </li>\n        <li class="nav-item" id="SettingLink">\n          <a class="nav-link" href="javascript:void(0)">\n            <i class="ion-gear-a"></i>&nbsp;Settings\n          </a>\n        </li>\n        <li class="nav-item author-link" data-author="${e}" id="UsernameLink">\n          <a\n            class="nav-link"\n            href="javascript:void(0)"\n          >\n              ${e}\n          </a>\n        </li>\n      </ul>\n    </div>\n  `;s.navbarContainer.insertAdjacentHTML("afterbegin",n),h(0,t)},y=(e="Home")=>{v();s.navbarContainer.insertAdjacentHTML("afterbegin",'\n    <div class="container">\n      <a class="navbar-brand" href="index.html">conduit</a>\n      <ul class="nav navbar-nav pull-xs-right">\n        <li class="nav-item" id="HomeLink">\n          \x3c!-- Add "active" class when you\'re on that page" --\x3e\n          <a class="nav-link" href="javascript:void(0)">Home</a>\n        </li>\n        <li class="nav-item" id="SignInLink">\n          <a class="nav-link" href="javascript:void(0)">Sign in</a>\n        </li>\n        <li class="nav-item" id="SignUpLink">\n          <a class="nav-link" href="javascript:void(0)">Sign up</a>\n        </li>\n      </ul>\n    </div>\n  '),h(0,e)},w=(e,t=!1)=>`<li class="page-item${t?" active":""}" data-gotopage="${e}"><a class="page-link">${e}</a></li>`,S=["January","February","March","April","May","June","July","August","September","October","November","December"],k=e=>{const t=new Date(e);return`${S[t.getMonth()]} ${t.getDate()}, ${t.getFullYear()}`},T="https://conduit.productionready.io/api",x=(e,t)=>`\n    <div class="card">\n      <div class="card-block">\n        <p class="card-text">${e.body}</p>\n      </div>\n      <div class="card-footer">\n        <a\n          href="javascript:void(0)"\n          class="author-link"\n          data-author="${e.author.username}"\n        >\n          <img\n            src="${e.author.image}"\n            class="comment-author-img"\n          />\n        </a>\n        &nbsp;\n        <a\n          href="javascript:void(0)"\n          class="comment-author author-link"\n          data-author="${e.author.username}"\n        >\n          ${e.author.username}\n        </a>\n        <span class="date-posted">${k(e.createdAt)}</span>\n        ${t.username===e.author.username?`\n          <span class="mod-options delete-comment-button" data-commentid="${e.id}">\n            <i class="ion-trash-a"></i>\n          </span>\n        `:""}\n      </div>\n    </div>\n  `,A=(e={})=>{a();const t=`\n  <div class="editor-page">\n    <div class="container page">\n      <div class="row">\n\n        <ul class="error-messages">\n          \x3c!-- <li>That email is already taken</li> --\x3e\n        </ul>\n\n        <div class="col-md-10 offset-md-1 col-xs-12">\n          <form>\n            <fieldset>\n              <fieldset class="form-group">\n                <input type="text" class="form-control form-control-lg" placeholder="Article Title" value="${e.title?e.title:""}">\n              </fieldset>\n              <fieldset class="form-group">\n                <input type="text" class="form-control" placeholder="What's this article about?" value="${e.description?e.description:""}">\n              </fieldset>\n              <fieldset class="form-group">\n                <textarea class="form-control" rows="8" placeholder="Write your article">${e.body?e.body:""}</textarea>\n              </fieldset>\n              <fieldset class="form-group">\n                <input type="text" class="form-control" placeholder="Enter tags">\n                <div class="tag-list"></div>\n              </fieldset>\n              <button class="btn btn-lg pull-xs-right btn-primary" id="${e.title?"update-article-button":"create-article-button"}" type="button">\n                Publish Article\n              </button>\n            </fieldset>\n          </form>\n        </div>\n\n      </div>\n    </div>\n  </div>\n  `;s.contentContainer.insertAdjacentHTML("afterbegin",t)},L=e=>{a();const t=`\n    <div class="settings-page">\n      <div class="container page">\n        <div class="row">\n\n          <div class="col-md-6 offset-md-3 col-xs-12">\n            <h1 class="text-xs-center">Your Settings</h1>\n\n            <ul class="error-messages">\n              \x3c!-- <li>That email is already taken</li> --\x3e\n            </ul>\n\n            <form>\n              <fieldset>\n                <fieldset class="form-group">\n                  <input class="form-control" type="text" placeholder="URL of profile picture" value="${e.image?e.image:""}">\n                </fieldset>\n                <fieldset class="form-group">\n                  <input class="form-control form-control-lg" type="text" placeholder="Your Name" value="${e.username}">\n                </fieldset>\n                <fieldset class="form-group">\n                  <textarea class="form-control form-control-lg" rows="8" placeholder="Short bio about you" value="${e.bio}"></textarea>\n                </fieldset>\n                <fieldset class="form-group">\n                  <input class="form-control form-control-lg" type="text" placeholder="Email" value="${e.email}">\n                </fieldset>\n                <fieldset class="form-group">\n                  <input class="form-control form-control-lg" type="password" placeholder="Password" value="">\n                </fieldset>\n                <button class="btn btn-lg btn-primary pull-xs-right" id="UpdateSettingButton">\n                  Update Settings\n                </button>\n              </fieldset>\n            </form>\n            <hr>\n            <button class="btn btn-outline-danger" id="LogoutButton">\n              Or click here to logout.\n            </button>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  `;s.contentContainer.insertAdjacentHTML("afterbegin",t)},P=(e,t=!1)=>`<li class="page-item${t?" active":""}" data-gotopage="${e}"><a class="page-link">${e}</a></li>`;var $=n(0),j=n.n($);const E=(e="")=>e?{"Content-Type":"application/json",authorization:"Token "+e}:{"Content-Type":"application/json"};class H{constructor(e="",t="",n="",r="",a=""){this.bio=e,this.email=t,this.id=n,this.image=r,this.username=a}}const C=e=>Math.ceil(e/10);const I={currentPage:"Home",tagHeaders:["Global Feed"],activeHeaderIndex:0,activeProfileHeaderIndex:0,user:new class{constructor(){this.isLoggedIn=!1,this.token="",this.currentProfile={}}async login(e,t){try{const n=await j.a.post(T+"/users/login",{user:{email:e,password:t}},{headers:E()});this.setToken(n.data.user.token),this.isLoggedIn=!0,this.userData=new H(n.data.user.id,n.data.user.email,n.data.user.id,n.data.user.image,n.data.user.username)}catch(e){return e.response.data.errors}}async signup(e,t,n){try{const r=await j.a.post(T+"/users",{user:{username:e,email:t,password:n}},{headers:E()});this.setToken(r.data.user.token),this.isLoggedIn=!0,this.userData=new H(r.data.user.id,r.data.user.email,r.data.user.id,r.data.user.image,r.data.user.username)}catch(e){return e.response.data.errors}}async getCurrentUser(e){try{const t=await j()({method:"GET",url:T+"/user",headers:E(e)});return this.setToken(t.data.user.token),this.isLoggedIn=!0,this.userData=new H(t.data.user.id,t.data.user.email,t.data.user.id,t.data.user.image,t.data.user.username),t.data.user}catch(e){this.isLoggedIn=!1,this.token=""}}async updateUser(e,t,n,r,a){try{const s=await j.a.put(T+"/user",{user:{image:e,email:r,username:t,bio:n,password:a}},{headers:E(this.getToken())});return this.userData=new H(s.data.user.id,s.data.user.email,s.data.user.id,s.data.user.image,s.data.user.username),"Update successfully"}catch(e){return e.response.data.errors}}async followUser(e,t){try{return(await j()({method:""+("follow"===e?"POST":"DELETE"),url:`${T}/profiles/${t.replace(/ /g,"+")}/follow`,headers:E(this.getToken())})).data.profile}catch(e){alert("Error while trying to follow an user")}}async getProfile(e,t=""){try{const n=await j()({method:"GET",url:`${T}/profiles/${e}`,headers:E(t)});return this.currentProfile=n.data.profile,n.data.profile}catch(e){return"Error"}}setToken(e){this.token=e}getToken(){return this.token}},feed:new class{constructor(){this.articles=[],this.currentArticle={},this.currentPage=1,this.totalArticals=0,this.totalPages=0}async getArticles(e,t,n,r,a=10){try{const s=await j.a.get(T+"/articles",{params:{tag:e,author:t,favorited:n,offset:(r-1)*a,limit:a}},{headers:E()});return this.articles=[...s.data.articles],this.currentPage=r,this.totalArticals=s.data.articlesCount,this.totalPages=C(s.data.articlesCount),s}catch(e){alert("Error while getting for articles")}}async getArticlesWithToken(e,t,n,r,a,s=10){try{const i=await j()({method:"get",url:T+"/articles",params:{tag:t,author:n,favorited:r,offset:(a-1)*s,limit:s},headers:E(e)});return this.articles=[...i.data.articles],this.currentPage=a,this.totalArticals=i.data.articlesCount,this.totalPages=C(i.data.articlesCount),i}catch(e){alert("Error while getting for articles")}}async getFeeds(e,t,n=10){try{const r=await j()({method:"get",url:T+"/articles/feed",params:{offset:(t-1)*n,limit:n},headers:E(e)});return this.articles=[...r.data.articles],this.currentPage=t,this.totalArticals=r.data.articlesCount,this.totalPages=C(r.data.articlesCount),r}catch(e){alert("Error while getting for articles")}}async newFeed(e,t,n,r,a){try{const s=await j.a.post(T+"/articles",{article:{title:t,description:n,body:r,tagList:a}},{headers:E(e)});return this.currentArticle=s.data.article,s.data.article}catch(e){return e.response.data.errors}}async getArticle(e,t=""){try{const n=await j()({method:"GET",url:`${T}/articles/${e}`,headers:E(t)});this.currentArticle=n.data.article}catch(e){alert("Error while loading an article")}}async updateFeed(e,t,n,r,a,s){try{const i=await j.a.put(`${T}/articles/${t}`,{article:{title:n,description:r,body:a,tagList:s}},{headers:E(e)});return this.currentArticle=i.data.article,i.data.article}catch(e){return e.response.data.errors}}async deleteFeed(e,t){try{j()({method:"DELETE",url:`${T}/articles/${t}`,headers:E(e)});return this.currentArticle={},"Delete article successfully"}catch(e){return"Error"}}async favoriteFeed(e,t,n){try{return(await j()({method:""+("like"===e?"POST":"DELETE"),url:`${T}/articles/${t}/favorite`,headers:E(n)})).data.article}catch(e){alert("Error while trying to favorite the article")}}},tag:new class{constructor(){this.tags=[],this.tag=""}async getTags(){try{const e=await j()({method:"GET",url:T+"/tags",headers:E()});return this.tags=[...e.data.tags],e}catch(e){alert("Error while getting for tags")}}setTag(e){this.tag=e}},comment:new class{constructor(){this.comments=[]}fetchComments(e,t=""){return new Promise((n,r)=>{fetch(`${T}/articles/${e}/comments`,{method:"GET",headers:E(t)}).then(e=>e.json()).catch(()=>alert("Something went wrong when getting comments")).then(e=>{this.comments=[...e.comments],n(e)}).catch(e=>r(e))})}async addComment(e,t,n){try{return(await j.a.post(`${T}/articles/${e}/comments`,{comment:{body:t}},{headers:E(n)})).data.comment}catch(e){return e.response.data.errors}}async deleteComment(e,t,n){try{j()({method:"DELETE",url:`${T}/articles/${t}/comments/${n}`,headers:E(e)});return"Success"}catch(e){return"Error"}}}};I.user.userData=new H;const U=()=>{((e,t=0)=>{a(),r();const n=`\n    <div class="container page">\n      <div class="row">\n        <div class="col-md-9">\n          <div class="feed-toggle">\n            <ul class="nav nav-pills outline-active">\n              ${e.map(e=>{return`\n    <li class="nav-item">\n      <a\n        class="nav-link ${"Your Feed"==(t=e)?"yourfeedheader":"Global Feed"==t?"globalfeedheader":""}"\n        href="javascript:void(0)"\n      >${t}</a>\n    </li>\n  `;var t}).join("")}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;document.querySelector(".home-page").insertAdjacentHTML("beforeend",n),Array.from(document.querySelectorAll(".feed-toggle .nav-link"))[t].classList.add("active")})(I.tagHeaders,I.activeHeaderIndex),(e=>{let t;t=e.length>0?`\n      ${e.map(e=>(e=>`\n      <div class="article-preview">\n        <div class="article-meta">\n          <a href="javascript:void(0)">\n            <img src="${e.author.image}" />\n          </a>\n          <div class="info">\n            <a\n              href="javascript:void(0)"\n              class="author author-link"\n              data-author="${e.author.username}">\n                ${e.author.username}\n            </a>\n            <span class="date">${e.createdAt}</span>\n          </div>\n          <button\n            class="btn ${e.favorited?"btn-primary":"btn-outline-primary"} btn-sm pull-xs-right favorite-feed-button"\n            data-lovearticle="${e.slug}"\n          >\n            <i class="ion-heart"></i>${e.favoritesCount}\n          </button>\n        </div>\n        <a\n          href="javascript:void(0)"\n          class="preview-link"\n          data-articledetail="${e.slug}"\n        >\n          <h1>${e.title}</h1>\n          <p>${e.description}</p>\n          <span>Read more...</span>\n          <ul class="tag-list">\n            ${e.tagList.map(e=>`<li class="tag-default tag-pill tag-outline">${e}</li>`).join("")}\n          </ul>\n        </a>\n      </div>\n    `)(e)).join("")}\n    `:'<div class="article-preview">No articles are here... yet.</div>',document.querySelector(".col-md-9")&&document.querySelector(".col-md-9").insertAdjacentHTML("beforeend",t)})(I.feed.articles),(e=>{const t=`\n    <div class="col-md-3">\n      <div class="sidebar">\n        <p>Popular Tags</p>\n        <div class="tag-list">\n          ${e.map(e=>{return`<a href="javascript:void(0)" class="tag-pill tag-default" data-selectTag="${t=e}">${t}</a>`;var t}).join("")}\n        </div>\n      </div>\n    </div>\n  `;document.querySelector(".col-md-9").insertAdjacentHTML("afterend",t)})(I.tag.tags),((e,t)=>{let n=[];for(let t=1;t<=e;t++)n.push(t);const r=`\n    <nav>\n      <ul class="pagination">\n        ${n.map(e=>t==e?w(e,!0):w(e)).join("")}\n      </ul>\n    </nav>\n  `;document.querySelector(".col-md-9").insertAdjacentHTML("beforeend",r)})(I.feed.totalPages,I.feed.currentPage)},q=async()=>{((e,t)=>{a();let n='<div class="profile-page"></div>';s.contentContainer.insertAdjacentHTML("afterbegin",n),n=`\n    <div class="user-info">\n      <div class="container">\n        <div class="row">\n\n          <div class="col-xs-12 col-md-10 offset-md-1">\n            <img src="${e.image}" class="user-img" />\n            <h4>${e.username}</h4>\n            <p>${e.bio?e.bio:""}</p>\n            ${e.username===t.username?'\n              <a\n                class="btn btn-sm btn-outline-secondary action-btn edit-profile-button"\n                href="javascript:void(0)">\n                <i class="ion-gear-a"></i> Edit Profile Settings\n              </a>\n            ':`\n              <button\n                class="btn btn-sm action-btn follow-user-button ${e.following?"btn-secondary":"btn-outline-secondary"}"\n                data-followuser="${e.username}"\n              >\n                <i class="ion-plus-round"></i>\n                &nbsp;\n                ${e.following?"Unfollow":"Follow"} ${e.username}\n              </button>\n            `}\n          </div>\n\n        </div>\n      </div>\n    </div>\n  `,document.querySelector(".profile-page").insertAdjacentHTML("beforeend",n)})(I.user.currentProfile,I.user.userData),((e=0)=>{document.querySelector(".user-info").insertAdjacentHTML("afterend",'\n    <div class="container">\n      <div class="row">\n        <div class="col-xs-12 col-md-10 offset-md-1">\n\n          <div class="articles-toggle">\n            <ul class="nav nav-pills outline-active">\n              <li class="nav-item" id="my-article-header">\n                <a class="nav-link" href="javascript:void(0)">My Articles</a>\n              </li>\n              <li class="nav-item" id="favorited-articles-header">\n                <a class="nav-link" href="javascript:void(0)">Favorited Articles</a>\n              </li>\n            </ul>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  ');Array.from(document.querySelectorAll(".articles-toggle .nav-link"))[e].classList.add("active")})(I.activeProfileHeaderIndex),(e=>{let t;t=e.length>0?`\n      ${e.map(e=>(e=>`\n      <div class="article-preview">\n        <div class="article-meta">\n          <a href="javascript:void(0)">\n            <img src="${e.author.image}" />\n          </a>\n          <div class="info">\n            <a\n              href="javascript:void(0)"\n              class="author author-link"\n              data-author="${e.author.username}">\n                ${e.author.username}\n            </a>\n            <span class="date">${e.createdAt}</span>\n          </div>\n          <button\n            class="btn ${e.favorited?"btn-primary":"btn-outline-primary"} btn-sm pull-xs-right favorite-feed-button"\n            data-lovearticle="${e.slug}"\n          >\n            <i class="ion-heart"></i>${e.favoritesCount}\n          </button>\n        </div>\n        <a\n          href="javascript:void(0)"\n          class="preview-link"\n          data-articledetail="${e.slug}"\n        >\n          <h1>${e.title}</h1>\n          <p>${e.description}</p>\n          <span>Read more...</span>\n          <ul class="tag-list">\n            ${e.tagList.map(e=>`<li class="tag-default tag-pill tag-outline">${e}</li>`).join("")}\n          </ul>\n        </a>\n      </div>\n    `)(e)).join("")}\n    `:'<div class="article-preview">No articles are here... yet.</div>',document.querySelector(".articles-toggle")&&document.querySelector(".articles-toggle").insertAdjacentHTML("afterend",t)})(I.feed.articles),((e,t)=>{let n=[];for(let t=1;t<=e;t++)n.push(t);const r=`\n    <nav>\n      <ul class="pagination">\n        ${n.map(e=>t==e?P(e,!0):P(e)).join("")}\n      </ul>\n    </nav>\n  `;document.querySelector(".articles-toggle").parentElement.insertAdjacentHTML("beforeend",r)})(I.feed.totalPages,I.feed.currentPage)};window.addEventListener("load",async()=>{const e=localStorage.getItem("userToken");await I.user.getCurrentUser(e),I.user.isLoggedIn?(b(I.user.userData.username),u(),I.tagHeaders=["Your Feed","Global Feed"],I.activeHeaderIndex=0,await I.feed.getFeeds(I.user.getToken(),1)):(y(),u(),await I.feed.getArticles("","","",1,10)),"Home"===I.currentPage?(r(),document.querySelector(".home-page").insertAdjacentHTML("afterbegin",'\n  <div class="banner">\n    <div class="container">\n      <h1 class="logo-font">conduit</h1>\n      <p>A place to share your knowledge.</p>\n    </div>\n  </div>\n')):(()=>{const e=document.querySelector(".banner");e&&e.parentElement.removeChild(e)})(),await I.tag.getTags(),U()}),s.navbarContainer.addEventListener("click",async e=>{if(e.target.matches("#SignInLink, #SignInLink *"))h(I.currentPage,"Sign In"),I.currentPage="Sign In",a(),d();else if(e.target.matches("#SignUpLink, #SignUpLink *"))h(I.currentPage,"Sign Up"),I.currentPage="Sign Up",a(),f();else if(e.target.matches("#HomeLink, #HomeLink *"))h(I.currentPage,"Home"),I.currentPage="Home",I.activeHeaderIndex=0,u(),I.user.isLoggedIn?(I.tagHeaders=["Your Feed","Global Feed"],await I.feed.getFeeds(I.user.getToken(),1)):(I.tagHeaders=["Global Feed"],await I.feed.getArticles("","","",1)),U();else if(e.target.matches("#NewArticleLink, #NewArticleLink *"))h(I.currentPage,"New Article"),I.currentPage="New Article",A();else if(e.target.matches("#SettingLink, #SettingLink *")){h(I.currentPage,"Setting"),I.currentPage="Setting";const e=await I.user.getCurrentUser(I.user.getToken());L(e)}else if(e.target.matches("#UsernameLink, #UsernameLink *")){h(I.currentPage,"User"),I.currentPage="User",I.activeProfileHeaderIndex=0;await I.user.getProfile(I.user.userData.username,I.user.getToken());I.user.isLoggedIn?await I.feed.getArticlesWithToken(I.user.getToken(),"",I.user.currentProfile.username,"",1):await I.feed.getArticles("",I.user.currentProfile.username,"",1),q()}});const F=async()=>{b(I.user.userData.username),I.tagHeaders=["Your Feed","Global Feed"],I.activeHeaderIndex=0,u(),await I.feed.getFeeds(I.user.getToken(),1),U()},O=()=>{((e,t,n=[])=>{a();const r=`\n  <div class="article-page">\n\n    <div class="banner">\n      <div class="container">\n\n        <h1>${t.title}</h1>\n\n        <div class="article-meta">\n          <a href="javascript:void(0)"><img src="${t.author.image}" /></a>\n          <div class="info">\n            <a\n              data-author="${t.author.username}"\n              href="javascript:void(0)"\n              class="author author-link"\n            >\n              ${t.author.username}\n            </a>\n            <span class="date">${k(t.createdAt)}</span>\n          </div>\n          ${e.username&&e.username===t.author.username?'\n            <button class="btn btn-sm btn-outline-secondary edit-article-button">\n              <i class="ion-edit"></i>&nbsp;\n              Edit Article\n            </button>\n          ':`\n            <button\n              class="btn btn-sm follow-user-button ${t.author.following?"btn-secondary":"btn-outline-secondary"}"\n              data-followuser="${t.author.username}">\n              <i class="ion-plus-round"></i>&nbsp;\n              ${t.author.following?"Unfollow":"Follow"} ${t.author.username}\n            </button>\n          `}\n          &nbsp;&nbsp;\n          ${e.username&&e.username===t.author.username?'\n            <button class="btn btn-sm btn-outline-danger delete-article-button">\n              <i class="ion-trash-a"></i>&nbsp;\n              Delete Article\n            </button>\n          ':`\n            <button class="btn btn-sm favorite-feed-button ${t.favorited?"btn-primary":"btn-outline-primary"}" data-lovearticle="${t.slug}">\n              <i class="ion-heart"></i>\n              &nbsp;\n              ${t.favorited?"Unfavorite Post":"Favorite Post"}\n              <span class="counter">(${t.favoritesCount})</span>\n            </button>\n          `}\n        </div>\n\n      </div>\n    </div>\n\n    <div class="container page">\n\n      <div class="row article-content">\n        <div class="col-md-12">\n          ${t.body}\n        </div>\n      </div>\n\n      <hr />\n\n      <div class="article-actions">\n        <div class="article-meta">\n          <a href="javascript:void(0)">\n            <img src="${t.author.image}" />\n          </a>\n          <div class="info">\n            <a\n              data-author="${t.author.username}"\n              href="javascript:void(0)"\n              class="author author-link">\n                ${t.author.username}\n            </a>\n            <span class="date">${k(t.createdAt)}</span>\n          </div>\n\n          ${e.username&&e.username===t.author.username?'\n            <button class="btn btn-sm btn-outline-secondary edit-article-button">\n              <i class="ion-edit"></i>&nbsp;\n              Edit Article\n            </button>\n          ':`\n            <button class="btn btn-sm follow-user-button ${t.author.following?"btn-secondary":"btn-outline-secondary"}" data-followuser="${t.author.username}">\n              <i class="ion-plus-round"></i>&nbsp;\n              ${t.author.following?"Unfollow":"Follow"} ${t.author.username}\n            </button>\n          `}\n          &nbsp;&nbsp;\n          ${e.username&&e.username===t.author.username?'\n            <button class="btn btn-sm btn-outline-danger delete-article-button">\n              <i class="ion-trash-a"></i>&nbsp;\n              Delete Article\n            </button>\n          ':`\n            <button class="btn btn-sm favorite-feed-button ${t.favorited?"btn-primary":"btn-outline-primary"}" data-lovearticle="${t.slug}">\n              <i class="ion-heart"></i>\n              &nbsp;\n              ${t.favorited?"Unfavorite Post":"Favorite Post"}\n              <span class="counter">(${t.favoritesCount})</span>\n            </button>\n          `}\n        </div>\n      </div>\n\n      <div class="row">\n\n        <div class="col-xs-12 col-md-8 offset-md-2">\n\n          ${e.username?`\n\n            <ul class="error-messages">\n              \x3c!-- <li>That email is already taken</li> --\x3e\n            </ul>\n\n            <form class="card comment-form">\n              <div class="card-block">\n                <textarea class="form-control" placeholder="Write a comment..." rows="3"></textarea>\n              </div>\n              <div class="card-footer">\n                <img src="${e.image?e.image:"https://static.productionready.io/images/smiley-cyrus.jpg"}" class="comment-author-img" />\n                <button class="btn btn-sm btn-primary" id="PostCommentButton">\n                  Post Comment\n                </button>\n              </div>\n            </form>\n          `:'\n            <p>\n              <a href="javascript:void(0)" id="SignInLinkInPage">Sign in</a> or <a href="javascript:void(0)" id="SignUpLinkInPage">Sign up</a> to add comments on this article.\n            </p>\n          '}\n\n          ${n.map(t=>x(t,e)).join("")}\n\n        </div>\n      </div>\n    </div>\n  </div>\n  `;s.contentContainer.insertAdjacentHTML("afterbegin",r)})(I.user.userData,I.feed.currentArticle,I.comment.comments)};s.contentContainer.addEventListener("click",async e=>{if("SignInButton"===e.target.id)e.preventDefault(),await(async()=>{const e=await I.user.login(g().email,g().password);""!==I.user.userData.username?(I.currentPage="Home",localStorage.setItem("userToken",I.user.getToken()),F()):l(e)})();else if("SignUpButton"===e.target.id)e.preventDefault(),await(async()=>{const e=await I.user.signup(m().username,m().email,m().password);""!==I.user.userData.username?(localStorage.setItem("userToken",I.user.getToken()),F()):l(e)})();else if(e.target.classList.contains("globalfeedheader"))I.tag.setTag(""),u(),I.tagHeaders=I.user.isLoggedIn?["Your Feed","Global Feed"]:["Global Feed"],I.user.isLoggedIn?(I.activeHeaderIndex=1,await I.feed.getArticlesWithToken(I.user.getToken(),I.tag.tag,"","",1)):(I.activeHeaderIndex=0,await I.feed.getArticles(I.tag.tag,"","",1)),U();else if("SignInLinkInPage"===e.target.id)h(I.currentPage,"Sign In"),I.currentPage="Sign In",a(),d();else if("SignUpLinkInPage"===e.target.id)h(I.currentPage,"Sign Up"),I.currentPage="Sign Up",a(),f();else if(e.target.classList.contains("yourfeedheader"))I.tag.setTag(""),I.activeHeaderIndex=0,I.tagHeaders.length>2&&I.tagHeaders.splice(2,1),u(),await I.feed.getFeeds(I.user.getToken(),1),U();else if(e.target.matches(".page-item, .page-item *")){const t=parseInt(e.target.closest(".page-item").dataset.gotopage,10);"Home"===I.currentPage?(u(),"Your Feed"!==I.tagHeaders[I.activeHeaderIndex]?I.user.isLoggedIn?await I.feed.getArticlesWithToken(I.user.getToken(),I.tag.tag,"","",t):await I.feed.getArticles(I.tag.tag,"","",t):I.feed.getFeeds(I.user.getToken(),t),await I.tag.getTags(),U()):"Profile Page"!==I.currentPage&&"User"!==I.currentPage||(I.user.isLoggedIn&&0==I.activeProfileHeaderIndex?await I.feed.getArticlesWithToken(I.user.getToken(),"",I.user.currentProfile.username,"",t):I.user.isLoggedIn&&1==I.activeProfileHeaderIndex?await I.feed.getArticlesWithToken(I.user.getToken(),"","",I.user.currentProfile.username,t):I.user.isLoggedIn||0!=I.activeProfileHeaderIndex?I.user.isLoggedIn||1!=I.activeProfileHeaderIndex||await I.feed.getArticles("","",I.user.currentProfile.username,t):await I.feed.getArticles("",I.user.currentProfile.username,"",t),q())}else if(e.target.matches(".tag-pill, .tag-pill *")){const t=e.target.closest(".tag-pill").dataset.selecttag;I.tag.setTag(t),u(),I.tagHeaders=I.user.isLoggedIn?["Your Feed","Global Feed"]:["Global Feed"],I.tagHeaders.push("#"+I.tag.tag),I.activeHeaderIndex=I.user.isLoggedIn?2:1,I.user.isLoggedIn?await I.feed.getArticlesWithToken(I.user.getToken(),t,"","",1):await I.feed.getArticles(t,"","",1),await I.tag.getTags(),U()}else if("create-article-button"===e.target.id){const e=await I.feed.newFeed(I.user.token,i().title.toString(),i().description.toString(),i().body.toString(),i().tagList);I.feed.currentArticle.slug?O():l(e)}else if(e.target.matches(".preview-link, .preview-link *")){const t=e.target.closest(".preview-link").dataset.articledetail;await I.feed.getArticle(t,I.user.getToken()),await I.comment.fetchComments(t,I.user.getToken()),h(I.currentPage),I.currentPage="Article Detail Page",O()}else if(e.target.matches(".favorite-feed-button, .favorite-feed-button *"))if(I.user.isLoggedIn){const r=e.target.closest(".favorite-feed-button").classList.contains("btn-primary")?"dislike":"like",a=e.target.closest(".favorite-feed-button").dataset.lovearticle,s=await I.feed.favoriteFeed(r,a,I.user.getToken());t=s,n=I.currentPage,Array.from(document.querySelectorAll(`[data-lovearticle="${t.slug}"]`)).forEach(e=>{e.classList.contains("btn-primary")?(e.classList.remove("btn-primary"),e.classList.add("btn-outline-primary")):(e.classList.remove("btn-outline-primary"),e.classList.add("btn-primary"));const r=`\n      <i class="ion-heart"></i> ${"Home"==n||"Profile Page"==n||"User"==n?t.favoritesCount:t.favorited?`Unfavorite Article (${t.favoritesCount})`:`Favorited Article (${t.favoritesCount})`}\n    `;e.innerHTML="",e.insertAdjacentHTML("afterbegin",r)})}else h(I.currentPage,"Sign In"),I.currentPage="Sign In",a(),d();else if("UpdateSettingButton"===e.target.id){e.preventDefault();const t=await I.user.updateUser(o().image,o().username,o().bio,o().email,o().password);"Update successfully"===t?(I.currentPage="User",h(0,I.currentPage),await I.user.getProfile(I.user.userData.username,I.user.getToken()),await I.feed.getArticlesWithToken(I.user.getToken(),"",I.user.currentProfile.username,"",1),I.activeProfileHeaderIndex=0,q()):l(t)}else if("PostCommentButton"===e.target.id){e.preventDefault();const t=await I.comment.addComment(I.feed.currentArticle.slug,document.querySelector('[placeholder="Write a comment..."]').value,I.user.getToken());t.id?(c(),document.querySelector('[placeholder="Write a comment..."]').value="",((e,t)=>{const n=x(e,t);document.querySelector(".comment-form").insertAdjacentHTML("afterend",n)})(t,I.user.userData)):l(t)}else if(e.target.matches(".delete-comment-button, .delete-comment-button *")){const t=e.target.closest(".delete-comment-button").dataset.commentid;"Success"===await I.comment.deleteComment(I.user.getToken(),I.feed.currentArticle.slug,t)?(e=>{const t=document.querySelector(`[data-commentid="${e}"]`).closest(".card");t.parentElement.removeChild(t)})(t):alert("Something went wrong while deleting the comment")}else if(e.target.matches(".follow-user-button, .follow-user-button *"))if(I.user.isLoggedIn){const t=e.target.closest(".follow-user-button").classList.contains("btn-secondary")?"unfollow":"follow",n=e.target.closest(".follow-user-button").dataset.followuser,r=await I.user.followUser(t,n);r.username&&(e=>{Array.from(document.querySelectorAll(`[data-followuser="${e.username}"]`)).forEach(t=>{t.classList.contains("btn-secondary")?(t.classList.remove("btn-secondary"),t.classList.add("btn-outline-secondary")):(t.classList.remove("btn-outline-secondary"),t.classList.add("btn-secondary"));const n=`\n    <i class="ion-plus-round"></i> ${e.following?"Unfollow "+e.username:"Follow "+e.username}\n    `;t.innerHTML="",t.insertAdjacentHTML("afterbegin",n)})})(r)}else h(I.currentPage,"Sign In"),I.currentPage="Sign In",a(),d();else if(e.target.matches(".edit-article-button, .edit-article-button *"))h(I.currentPage),I.currentPage="New Article",A(I.feed.currentArticle);else if("update-article-button"===e.target.id){const e=await I.feed.updateFeed(I.user.token,I.feed.currentArticle.slug,i().title.trim().toString()?i().title.trim().toString():I.feed.currentArticle.title,i().description.trim().toString()?i().description.trim().toString():I.feed.currentArticle.description,i().body.trim().toString()?i().body.trim().toString():I.feed.currentArticle.body,i().tagList);I.feed.currentArticle.slug?O():l(e)}else if(e.target.matches(".delete-article-button, .delete-article-button *")){"Delete article successfully"===await I.feed.deleteFeed(I.user.getToken(),I.feed.currentArticle.slug)?(h(I.currentPage,"Home"),I.currentPage="Home",u(),await I.feed.getArticlesWithToken(I.user.getToken(),"","","",1),U()):alert("Something went wrong when trying to delete the article")}else if(e.target.matches(".author-link, .author-link *")){const t=e.target.closest(".author-link").dataset.author;await I.user.getProfile(t,I.user.getToken());I.user.isLoggedIn?await I.feed.getArticlesWithToken(I.user.getToken(),"",I.user.currentProfile.username,"",1):await I.feed.getArticles("",I.user.currentProfile.username,"",1),h(I.currentPage),I.currentPage="Profile Page",await q()}else if(e.target.matches("#my-article-header, #my-article-header *"))await I.user.getProfile(I.user.currentProfile.username,I.user.getToken()),I.user.isLoggedIn?await I.feed.getArticlesWithToken(I.user.getToken(),"",I.user.currentProfile.username,"",1):await I.feed.getArticles("",I.user.currentProfile.username,"",1),I.activeProfileHeaderIndex=0,await q();else if(e.target.matches("#favorited-articles-header, #favorited-articles-header *"))await I.user.getProfile(I.user.currentProfile.username,I.user.getToken()),I.user.isLoggedIn?await I.feed.getArticlesWithToken(I.user.getToken(),"","",I.user.currentProfile.username,1):await I.feed.getArticles("","",I.user.currentProfile.username,1),I.activeProfileHeaderIndex=1,await q();else if(e.target.matches(".edit-profile-button, .edit-profile-button *")){h(I.currentPage,"Setting"),I.currentPage="Setting";const e=await I.user.getCurrentUser(I.user.getToken());L(e)}else"LogoutButton"===e.target.id&&(I.currentPage="Home",I.tagHeaders=["Global Feed"],I.activeHeaderIndex=0,localStorage.setItem("userToken",""),y(),u(),await I.feed.getArticles("","","",1,10),U());var t,n})}]);